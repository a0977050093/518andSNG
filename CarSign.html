<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>第二連軍車管理系統</title>

  <link rel="stylesheet" href="CarSign.css">
</head>
<body>
  <div id="app">
    <!-- 車輛選擇表單 -->
    <h2>選擇車號與位置</h2>
    <form>
      <label for="carNumbers">選擇車號:</label>
      <select id="carNumbers">
        <option value="軍E-21137">軍E-21137</option>
        <option value="軍E-21188">軍E-21188</option>
        <option value="軍2-20004">軍2-20004</option>
        <option value="軍2-26681">軍2-26681</option>
        <option value="軍2-20094">軍2-20094</option>
        <option value="軍2-20096">軍2-20096</option>
        <option value="軍2-20097">軍2-20097</option>
        <option value="軍2-20895">軍2-20895</option>
        <option value="軍2-23113">軍2-23113</option>
        <option value="軍2-20001">軍2-20001</option>
        <option value="軍2-20002">軍2-20002</option>
        <option value="軍2-20009">軍2-20009</option>
        <option value="軍2-20010">軍2-20010</option>
        <option value="軍2-20090">軍2-20090</option>
        <option value="軍2-20092">軍2-20092</option>
        <option value="軍2-22705">軍2-22705</option>
        <option value="軍2-22717">軍2-22717</option>
        <option value="軍2-22740">軍2-22740</option>
        <option value="軍2-22834">軍2-22834</option>
        <option value="軍2-23836">軍2-23836</option>
        <option value="軍2-24507">軍2-24507</option>
        <option value="軍2-24629">軍2-24629</option>
        <option value="軍2-24630">軍2-24630</option>
        <option value="軍2-24631">軍2-24631</option>
        <option value="軍3-25088">軍3-25088</option>
        <option value="軍3-24053">軍3-24053</option>
        <option value="軍1-23534">軍1-23534</option>
        <option value="軍K-20456">軍K-20456</option>
      </select>

      <label for="locations">選擇位置:</label>
      <select id="locations">
        <option value="二級廠">二級廠</option>
        <option value="OK鋼棚">OK鋼棚</option>
        <option value="連側鋼棚">連側鋼棚</option>
        <option value="無線電鋼棚">無線電鋼棚</option>
        <option value="陸區鋼棚">陸區鋼棚</option>
        <option value="玄捷鋼棚">玄捷鋼棚</option>
        <option value="風雨走廊">風雨走廊</option>
        <option value="待安置車號">待安置車號</option>
      </select>

      <button type="button" onclick="submitCarLocation()">提交車號</button>
      <button type="button" onclick="showStatus()">車況顯示</button>
    </form>

    <!-- 車輛狀況表 -->
    <div id="modal" class="modal">
      <div class="modal-content">
        <h3 style="text-align: center;">車輛停放狀況</h3>
        <table>
          <thead>
            <tr>
              <th>位置</th>
              <th>車號</th>
              <th>總數</th>
            </tr>
          </thead>
          <tbody id="statusTable"></tbody>
        </table>
        <button type="button" onclick="closeModal()">關閉</button>
        <button type="button" onclick="clearCarNumbers()">清除所有車號</button>
      </div>
    </div>

    <!-- 地圖顯示區域 -->
    <div id="map"></div>
  </div>

  <script>
   // 確保在頁面加載完成後執行
    window.onload = function() {
    google.script.run.loadCarNumbersToInitialArea(); // 在頁面加載時執行步驟二
    };
     
    document.addEventListener("DOMContentLoaded", () => {
      initMap(); // 確保在 DOM 準備好後執行初始化
    });

  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAbPe0HVpOt6UHD47PFyRaAqF1CIzK__2U&callback=initMap" async defer></script>
  <script src="CarSign.js"></script>
</body>
</html>
